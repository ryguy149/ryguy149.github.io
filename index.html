<!DOCTYPE html>
<html>
    <!-- assign meta tags and assign a title for the web page -->
    <head> 
        <meta charset = "utf-8">
        <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
        <meta name = "desctiption" content = "My personal web page to display resume, expierience, and CS projects">
        <meta name = "keywords" content = "Ryan FLeury, Computer Science, Personal Profile">
        <meta name = "author" content = "Ryan FLeury">

        <title>Ryan Fleury Web Page | Welcome</title>
        <link rel = "stylesheet" type="text/css" href = "css/webServer.css">
    </head>


    <body>
        
        <!-- refrence: https://dev.to/michaelburrows/display-a-message-to-returning-visitors-using-a-javascript-cookie-21d7 using cookies to welcome a returning user
        https://www.codexworld.com/cookie-consent-popup-with-javascript/-->
        
        <script type="text/javascript"> 

            // //function to make a new cookue if the one has not been made for the user.
            function setCookie(userCookieName) 
            {
                const userCookieValue = "Yes";
                const userCookieDays = 7;
                let expiryDate = new Date();
                expiryDate.setDate(expiryDate.getDate() + userCookieDays);
                document.cookie = userCookieName + "=" + userCookieValue +"; expires=" + expiryDate.toGMTString() + "path=/"; 
            }

            // Delete cookie
            function deleteCookie(userCookieName) 
            {
                const userCookieDays = 7;
                let expiryDate = new Date();
                expiryDate.setDate(expiryDate.getDate() + userCookieDays);
                document.cookie = userCookieName + "=;" + expiryDate.toGMTString() + ";path=/";
            }


            // Read cookie
            function getCookie(cname) {
                let name = cname + "=";
                let decodedCookie = decodeURIComponent(document.cookie);
                let ca = decodedCookie.split(';');
                for(let i = 0; i <ca.length; i++) {
                    let c = ca[i];
                    while (c.charAt(0) == ' ') {
                        c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                        return c.substring(name.length, c.length);
                    }
                }
                return "";
            }

            //check for retruning visitor
            document.addEventListener("DOMContentLoaded", function () 
            {
            const userCookieName = "returningVisitor";
            checkUserCookie(userCookieName);});

            //will welcome the user back if they have been to the website before.
            function checkUserCookie(userCookieName) 
            {
                const regEx = new RegExp(userCookieName, "g");  //g (global match)
                const cookieExists = document.cookie.match(regEx);
                if (cookieExists != null) 
                    {
                        document.body.insertAdjacentHTML(
                        "beforeend",
                        '<div id="welcome">Welcome back to my website!<button class="close" onclick="closeReturningUser();">close</button> </div> ',
                        );
                        document.getElementById("cookieNotice").style.display = "none";
                    }
                else{
                    document.getElementById("cookieNotice").style.display = "shown";
                }   
            }

            // Set cookie consent
            function acceptCookieConsent(){
                //deleteCookie('user_cookie_consent');
                setCookie('returningVisitor', 1, 30);
                document.getElementById("cookieNotice").style.display = "none";
            }

            function closeReturningUser(){
                document.getElementById("welcome").style.display = "none";
            }

            
        </script>

        <!--  ref https://fullstackheroes.com/tutorials/javascript/cookie-policy-popup/  
        https://blog.formpl.us/how-to-create-a-simple-cookie-consent-pop-up-for-your-website-dad17a174b60-->
        <!-- <div class="cookie-overlay" style='display: shown'<div class="cookie-overlay"
            
            <p>By clicking the "Accept" button below, you accept to using cookies on this site.</p>
            <img src="/close.png" class="close-cookies" />
            <button class="close">Accept</button>
            
        </div> -->

        <div id="cookieNotice" style="display: shown;">
            <div class="cookie-overlay"></div>
                <h4>Cookie Consent</h4>
                <p>This website uses cookies please accept to the following terms  <a style="color:#115cfa;" href="/privacy-policy">Privacy Policy</a></p>      
                <button class="close" onclick="acceptCookieConsent();">Accept</button> 
            </div>
        </div>

        <header>
            <div class = "container">
                <div id = "introduction">
                    <!-- <img src="PicturesForWeb\uniLogo.png" width="80" height="100"> -->
                    <h1><span class="highlight">Ryan Fleury's </span> Personal Website</h1> <!--use span to ensure a new line is not created-->
                    
                <nav>
                    <ul>
                         <li class = current><a href="index.html">Home</a></li> 
                         <li><a href="about.html">About Me</a></li> 
                         <li><a href="myProjects.html">My Projects</a></li> 
                         <li><a href="contact.html">Contact Me</a></li>
                    </ul>
                </nav> 
              </div>   
            </div>
        </header>
    
        <!-- label for the photo that has been placed on screen -->
        <section id = "personalInfo">
            
            <div class = "container">
                <h1>Ryan Fleury: Computer Science Major</h1> 
                <p>This website has the purpose of showcasing my Journy at LTU and my Computer Scinece Projects.</p>
            </div>
        </section>

   
        <!-- my projects and an about me section within my site -->
        <section id = "aboutMe">
            <div class = "container"> 
                <div class = "box">
                    <h3>About Me</h3>
                    <p>I am currently a senior at Lawrence Technilogical University, my expected graduation is end of summer 2022. I am also a student athlete at LTU and am one of the Captain on the Men's Larcosse team. </p>
                </div>
                <div class = "box">
                    <h3>My Computer Science Projects</h3>
                    <p>
                        <ol>
                            <li>Java Storefront GUI. </li>
                            <li>C++ Vending Machine Operating System program. </li>
                            <li>Predicting Emotion with Support Vector Machines Classifier (Python Text Mining). </li>
                            <li>Wine Preference Prediction script with R programming.  </li>
                            <li>Senior Project: Text editor that will predict emotion of inputted text or text document (WIP).</li>
                            <li>This Website! </li>
                        </ol>
                    </p>
                </div>
            </div>
        </section>
        
        <!-- contact me section need to integrate email functionality in this section still -->
        <section id = "contactMe">
            <div class= "container">
                <img src="PicturesForWeb/headshot.jpg">
                <h1>Contact Me </h1>
                <p>If you would like to get in contact with me please reach out! Email is the best way to reach me, but please give me adequate time to get back with you.</p>
                <form>
                    <!-- <input type="email" placeholder="Enter Email">
                    <button type="submit" class="buttone_1">Email Me!</button> -->
                    <a class="button" href="mailto:rfleury@ltu.edu">Link to my email: rfleury@ltu.edu</a>
                </form>
            </div>
        </section>

        <section id = "footer">
            <footer>
                <p>Web Server Project 2022</p>
            </footer>
        </section>

    </body>
</html>